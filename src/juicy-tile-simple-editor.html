﻿<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../juicy-highlight/src/juicy-highlight.html">

<dom-module id="juicy-tile-simple-editor">
    <template>
        <style>
            :host {
                position: fixed;
                top: 0px;
                left: 0px;
                width: 100%;
                box-sizing: border-box;
                background-color: #252526;
                color: white;
                height: 60px;
                padding: 10px;
                overflow: visible;
            }

            .editor-form .editor-form-section {
                float: left;
                margin-right: 20px;
            }

            .editor-form .editor-form-section label,
            .editor-form .editor-form-section span {
                line-height: 35px;
            }

            .editor-form button.btn {
                border: 0px;
                cursor: pointer;
                padding: 10px;
                border-radius: 2px;
                outline: none;
                min-width: 30px;
                text-align: center;
                background-color: #CCCCCC;
                line-height: normal;
            }

            .editor-form button.btn:hover {
                background-color: #EEEEEE;
            }

            .editor-form button.btn-radio {
                background-color: #F0F0F0;
            }

            .editor-form button.btn-radio:hover {
                background-color: #E0E0E0;
            }

            .editor-form button.btn-radio.active {
                background-color: #BBBBBB;
            }

            .editor-form button.btn[disabled],
            .editor-form button.btn-radio[disabled],
            .editor-form button.btn-radio:hover[disabled] {
                cursor: not-allowed;
                color: #CCCCCC;
                background-color: #F0F0F0;
            }

            .editor-form .editor-form-section label.alert {
                color: red;
                background-color: white;
                padding: 5px;
                border-radius: 2px;
            }

            .editor-tree {
                position: fixed;
                height: calc(100vh - 60px);
                right: 0px;
                width: 220px;
                top: 60px;
                background-color: #252526;
                box-sizing: border-box;
                padding: 0px;
                border-top: 1px solid #C0C0C0;
                font-size: 13px;
            }

            .editor-tree div.editor-tree-item {
                padding: 2px 10px;
                cursor: pointer;
            }

            .editor-tree div.editor-tree-item:hover {
                background-color: #444444;
            }

            .editor-tree div.editor-tree-item.selected {
                background-color: #01629E;
            }
        </style>

        <div class="editor-form">
            <div class="editor-form-section">
                <button type="button" class="btn" on-click="saveSetup" disabled$="{{!hasChanges}}">Save</button>
                <button type="button" class="btn" on-click="resetSetup">Reset</button>
            </div>
            <!-- Hiding the media screen buttons till we support multiple break points on the juicy-tile-list/grid/table level -->
            <div class="editor-form-section" style="display: none;">
                <template is="dom-repeat" items="{{mediaScreenRanges}}">
                    <button type="button" class$="{{getRadioButtonCss(mediaScreen, item)}}" item="{{item}}" on-click="selectMediaScreen" disabled$="{{!selectedList}}">{{item.name}}</button>
                </template>
            </div>
            <div class="editor-form-section">
                <label>Width:</label>
                <template is="dom-repeat" items="{{widthRanges}}">
                    <button type="button" class$="{{getRadioButtonCss(width, item)}}" item="{{item}}" on-click="selectWidth" disabled$="{{!selectedTiles.length}}">{{item.name}}</button>
                </template>
            </div>
            <div class="editor-form-section">
                <label>Visible:</label>
                <button type="button" class$="{{getRadioButtonCss(visible, 1)}}" on-click="selectVisible" data-value="1" disabled$="{{!selectedTiles.length}}">Yes</button>
                <button type="button" class$="{{getRadioButtonCss(visible, 0)}}" on-click="selectVisible" data-value="0" disabled$="{{!selectedTiles.length}}">No</button>
            </div>
            <div class="editor-form-section">
                <label>Position:</label>
                <button type="button" class="btn" on-click="moveUp" disabled$="{{!selectedTiles.length}}">Up</button>
                <button type="button" class="btn" on-click="moveDown" disabled$="{{!selectedTiles.length}}">Down</button>
            </div>
            <template is="dom-if" if="{{selectedTiles.length}}">
                <div class="editor-form-section">
                    <b>
                        <span>{{selectedTiles.length}}</span>
                        <span>{{getSelectedTilesCaption(selectedTiles.length)}}</span>
                    </b>
                    <label>selected</label>
                </div>
            </template>
            <template is="dom-if" if="{{message}}">
                <div class="editor-form-section">
                    <label class="alert">{{message}}</label>
                </div>
            </template>
        </div>

        <div class="editor-tree">
            <template is="dom-repeat" items="{{selectedListItems}}">
                <div class$="{{getTreeItemCss(selectedTiles.length, item)}}" on-click="selectTreeItem" item="{{item}}">
                    <span>{{item.name}}</span>
                </div>
            </template>
        </div>

        <juicy-highlight id="highlightTileRollover" strokewidth="1" strokecolor="#1E90FF" strokeoffset="2" fill="rgba(0, 191, 255, 0.2)"></juicy-highlight>
        <juicy-highlight id="highlightTileSelected" strokewidth="2" strokecolor="#1E90FF" strokeoffset="2"></juicy-highlight>
        <juicy-highlight id="highlightListSelected" strokewidth="1" strokecolor="#C0C0C0" strokeoffset="2" overlay></juicy-highlight>
    </template>
    <script src="juicy-tile-simple-editor.js"></script>
</dom-module>